---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# jspr

<!-- badges: start -->
<!-- badges: end -->

(Pronounced *ˈja-spər*/*ˈdʒæspə*). A personal package containing useful custom functions used on a daily basis in the life of an human in ATSDR Exposure Investigations.

## Installation

You can install the development version of jspr from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("jamespyon/jspr")
```

## Features

Here are some features of the *jspr* R package.

### calculate_epc()

Taken and reformatted from *atsdrepc* R package, this function calculates the exposure point concentration used in health consultations or other projects. The original uses a shiny application that requires an xlsx template input that is complicated with R. This function helps makes the process easier for those who know what to do. It requires an input of observations (numeric vector) and censoring (logical vector) and is best run together with *dplyr* verb functions *group_by*() and *summarise*(). For output, retval is epc.

```{r example}
library(jspr)
library(tidyverse)

set.seed(20240406)

#example of individual inputs
results <- rexp(n = 16, rate = 1)
nondetects <- results<0.8

calculate_epc(obs = results, cen = nondetects)$retval

#example of dplyr verbs with dataframe
data.frame(results, nondetects, group = rep(c("A", "B"), 8)) %>%
  group_by(group) %>%
  summarise(epc = calculate_epc(obs = results, cen = nondetects)$retval)
  

```

